from datetime import datetime, timedelta

def parse_data(filename):
    """
    Зчитує дані з файлу та повертає список словників.
    """
    data = []
    with open(filename, 'r') as f:
        for line in f:
            name, date_str, price_str = line.strip().split(',')
            date = datetime.strptime(date_str, '%Y-%m-%d')
            price = float(price_str)
            data.append({'name': name, 'date': date, 'price': price})
    return data

def get_price_change(data, product_name):
    """
    Повертає зміну ціни на товар за останній місяць.
    """
    today = datetime.now()
    one_month_ago = today - timedelta(days=30)

    product_data = [item for item in data if item['name'] == product_name]
    product_data.sort(key=lambda x: x['date'])

    last_month_prices = [item['price'] for item in product_data if item['date'] >= one_month_ago]

    if not last_month_prices:
        return None

    first_price = last_month_prices[0]
    last_price = last_month_prices[-1]
    return last_price - first_price
